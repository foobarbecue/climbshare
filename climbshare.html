<head>
  <title>climbshare</title>
<link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/jquery-editable/css/jquery-editable.css" rel="stylesheet"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/jquery-editable/js/jquery-editable-poshytip.min.js"></script>  
</head>

<body>
  {{> loginButtons align="right"}}
    <div id="threejs-container"></div>
    <div id="progressBar"></div>
    <div id="progressText"></div>
  {{> labels3D}}
  <div class='flexcontainer'>
  {{> controlPanel}}
  </div>
</body>

<template name="labels3D">
{{#each labels}}
    <div id="{{_id}}" class="{{_id}} label3D">
    <span class="label3Dcontent" contenteditable="true">{{content}}</span>
    <img class="{{_id}}" src="{{typeIcon}}">
    {{#if climb}}
        <div class="hidden"><i>Difficulty</i> {{rating}}</div>
        {{else}}
    <select class="labelType hidden">
        <!--These multiple ifs for selecting are lame-->
        <option value="beta" {{selected "beta"}}>beta</option>
        <option value="warning" {{selected "warning"}}>warning</option>
        <option value="other" {{selected "other"}}>other</option>
    </select>
    {{/if}}
    
    <span class="deleteButton hidden">[X]</span>
    <span class="hidden">
    <div><i>Created by</i> {{username}}</div>
    <div><i>At</i> {{createdOn}}</div>
   
        </span>
    </div>
    {{/each}}
{{#each climbs}}
<div id="{{_id}}" class="{{label._id}} label3D">{{label.content}}</div>
{{/each}}
</template>

<template name="label3Ddetails">
<div class="label3Ddetails">
    <h2>{{label.content}}</h2>
</div>
</template>

<template name="controlPanel">
    <div id="controlPanel">
        <h3>Instructions</h3>
            <div class='hidden'>
            <ul>
                <li>left-click and drag to orbit</li>
                <li>right-click and drag to pan</li>
                <li>scrollwheel to move forwards and back</li>
                <li>double click on wall to add items</li>
            </ul>
            </div>
        
        <h3>Boulders &amp; walls</h3>
            <div class='hidden'>
            <select id='boulderList'>
            {{#each models3D}}
            <option value="{{name}}">{{name}}</option>
            {{/each}}
            </select>
            </div>
        <h3>Routes &amp; problems</h3>
        <div class='hidden'>
            {{#each climbs}}
                <div id="{{_id}}" class="ctrlPnlClimb {{_id}}">{{content}}</div>
            {{/each}}
        </div>
        <h3>Show / hide</h3>
        <div class='hidden'>
            <form id='filterDisplay'>
            <input type="checkbox" name="climb" checked>climbs<br />
            <input type="checkbox" name="beta" >beta<br />
            <input type="checkbox" name="warning" checked>warnings<br />
            <input type="checkbox" name="other" checked>other<br />
        <select name="createdBy">
            <option value="everyone">everyone</option>
            {{#each users}}
                <option value="{{_id}}">{{username}}</option>
            {{/each}}
        </select>
            </form>
        </div>
        <h3>Users</h3>
        <div class='hidden'>
            {{#each users}}
                {{profile.name}} {{profile.username}}
                {{# if status.online}}(online now){{/if}}
            {{/each}}
        </div>
        <h3>About</h3>
        <div class='hidden'>Climbsim is an
        <a href="https://github.com/foobarbecue/climbsim" target="_new">open source</a> project.</div>
        
    </div>
</template>